[{"/Users/Jamie/Desktop/pre-upload-sessions/client/src/index.js":"1","/Users/Jamie/Desktop/pre-upload-sessions/client/src/App.js":"2","/Users/Jamie/Desktop/test_session/client/src/index.js":"3","/Users/Jamie/Desktop/test_session/client/src/App.js":"4"},{"size":467,"mtime":1663880340111,"results":"5","hashOfConfig":"6"},{"size":4022,"mtime":1665523217636,"results":"7","hashOfConfig":"6"},{"size":467,"mtime":1666048564282,"results":"8","hashOfConfig":"9"},{"size":4022,"mtime":1666048564281,"results":"10","hashOfConfig":"9"},{"filePath":"11","messages":"12","suppressedMessages":"13","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1gnbm3n",{"filePath":"14","messages":"15","suppressedMessages":"16","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"17","messages":"18","suppressedMessages":"19","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1uxgxvy",{"filePath":"20","messages":"21","suppressedMessages":"22","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"23"},"/Users/Jamie/Desktop/pre-upload-sessions/client/src/index.js",[],[],"/Users/Jamie/Desktop/pre-upload-sessions/client/src/App.js",["24","25"],[],"/Users/Jamie/Desktop/test_session/client/src/index.js",[],[],"/Users/Jamie/Desktop/test_session/client/src/App.js",["26","27"],[],"import axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport \"./App.css\";\n\nfunction App() {\n  const [pic, setPic] = useState();\n  const [sessionData, setSessionData] = useState(\"no session data\");\n  const [sessionSourceId, setSessionSourceId] = useState(\"no session\"); //Used to check status.\n  const [sessionStatus, setSessionStatus] = useState(\"No Status\");\n  const [sessionPresignedUrl, setSessionPresignedUrl] =\n    useState(\"No session URL\"); //Long amazon url\n  const [heldFormData, setHeldFormData] = useState(\"\");\n  useEffect(() => {}, [sessionData, heldFormData]);\n\n  //IMGIX EXAMPLES: STARTING SESSION\n  const imgixHandleSubmitForSessionStarting = async (e) => {\n    e.preventDefault();\n    const formData = new FormData();\n    formData.append(\"pic\", pic);\n\n    const test = await axios\n      .post(\"http://localhost:5001/startImgixSession\", formData)\n      .then(console.log(\"starting imgix session\"))\n      .catch((error) => console.log(error.message));\n\n    setSessionSourceId(test.data.allData.data.attributes.id); //Stores session Source id\n    setSessionStatus(test.data.allData.data.attributes.status);\n    setSessionPresignedUrl(test.data.allData.data.attributes.url);\n    setHeldFormData(test.data.theBufferReturned.data);\n  };\n  const imgixHandleChangeForSessionStarting = (e) => {\n    setPic(e.target.files[0]);\n  };\n\n  //IMGIX EXAMPLE: PUT REQUEST WITH PRESIGNED SESSION URL\n  const sendFormDataPostRequest = async (e) => {\n    e.preventDefault();\n    const formDataPostRequest = new FormData();\n    formDataPostRequest.append(\"pic\", pic);\n    formDataPostRequest.append(\"awsURL\", sessionPresignedUrl);\n\n    //Starting session\n    const test = await axios\n      .post(\"http://localhost:5001/postSession\", formDataPostRequest)\n      .then(console.log(\"\"))\n      .catch((error) => console.log(error.message));\n  };\n\n  //IMGIX EXAMPLE: CHECK SESSION STATUS\n  const imgixHandleCheckStatus = async (e) => {\n    e.preventDefault();\n    const value = { grabbedSessionSourceID: sessionSourceId };\n\n    //check session\n    const sessionStatusForAxios = await axios\n      .post(\"http://localhost:5001/checkImgixSessionStatus\", value)\n      .then(console.log(\"Check imgix session\"))\n      .catch((error) => console.log(error.message));\n\n    setSessionStatus(\n      \"Checked: \" + sessionStatusForAxios.data.data.attributes.status\n    );\n  };\n\n  //IMGIX EXAMPLE: CLOSE SESSION\n  const imgixHandleCloseSession = async (e) => {\n    e.preventDefault();\n    const valueData = { grabbedSessionSourceID: sessionSourceId };\n\n    //close session\n    const sessionStatusForAxios = await axios\n      .post(\"http://localhost:5001/checkImgixCloseSession\", valueData)\n      .then(console.log(\"Client - CLOSE imgix session\"))\n      .catch((error) => console.log(error.message));\n\n    setSessionStatus(\n      \"Checked: \" + sessionStatusForAxios.data.data.attributes.status\n    );\n  };\n\n  //See formData\n  const seeFormData = () => {\n    console.log(JSON.stringify(heldFormData));\n  };\n\n  return (\n    <div className='app'>\n      <form className='form' onSubmit={imgixHandleSubmitForSessionStarting}>\n        <input type='file' onChange={imgixHandleChangeForSessionStarting} />\n        <br />\n        <button>Starting a session</button>\n        <br />\n        <button onClick={sendFormDataPostRequest}>\n          Sending formData to Post Request\n        </button>\n      </form>\n      <button onClick={imgixHandleCheckStatus}>Check session status</button>\n      <br />\n      <button onClick={imgixHandleCloseSession}>Close Session</button>\n      <br />\n      <button onClick={seeFormData}>See form data in Console log</button>\n      <br />\n\n      <h3>The sessionSourceId is: {sessionSourceId}</h3>\n      <h3>The sessionStatus is: {sessionStatus}</h3>\n      <h3>The sessionPresignedUrl is: {sessionPresignedUrl}</h3>\n      {/* <h3>minetype is: {storedMimetype}</h3> */}\n    </div>\n  );\n}\n\nexport default App;\n\n/*\nSteps to follow:\n1) Start session\n2) upload with Presigned URL\n3) Close session\n4) Check status.\n*/\n",{"ruleId":"28","severity":1,"message":"29","line":7,"column":23,"nodeType":"30","messageId":"31","endLine":7,"endColumn":37},{"ruleId":"28","severity":1,"message":"32","line":43,"column":11,"nodeType":"30","messageId":"31","endLine":43,"endColumn":15},{"ruleId":"28","severity":1,"message":"29","line":7,"column":23,"nodeType":"30","messageId":"31","endLine":7,"endColumn":37},{"ruleId":"28","severity":1,"message":"32","line":43,"column":11,"nodeType":"30","messageId":"31","endLine":43,"endColumn":15},"no-unused-vars","'setSessionData' is assigned a value but never used.","Identifier","unusedVar","'test' is assigned a value but never used."]